<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>BizCore360 Dashboard v5.4</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
body{font-family:Inter,system-ui,sans-serif;background:#f8f9fa;transition:background .2s,color .2s;}
.sidebar{width:260px;background:#fff;min-height:100vh;border-right:1px solid #dee2e6;}
.sidebar a{display:block;padding:.5rem 1rem;color:#212529;text-decoration:none;transition:.2s;}
.sidebar a:hover{background:#f8f9fa;}
.sidebar a.active{border-left:3px solid #0d6efd;background:rgba(13,110,253,.1);color:#0d6efd;font-weight:600;}
.topbar{height:56px;background:#fff;border-bottom:1px solid #dee2e6;position:fixed;top:0;left:0;right:0;z-index:1030;display:flex;align-items:center;justify-content:space-between;padding:0 1rem;}
.topbar .brand{font-weight:600;font-size:1.25rem;color:#000;}
#sidebarToggle{background:none;border:none;font-size:1.25rem;}
.main{margin-top:56px;margin-left:260px;padding:1rem;transition:margin-left .3s;}
.chatbox{position:fixed;bottom:0;left:260px;right:0;background:#fff;border-top:1px solid #dee2e6;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;}
.chatbox input{flex:1;border-radius:50px;border:1px solid #ced4da;padding:.5rem 1rem;}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.2);display:none;}
@media(max-width:992px){
 .sidebar{position:fixed;top:56px;left:-260px;z-index:1050;transition:left .3s;}
 .sidebar.show{left:0;}
 .main{margin-left:0;}
 .chatbox{left:0;}
}
.dark-mode body{background:#212529;color:#f8f9fa;}
.dark-mode .sidebar{background:#343a40;border-color:#444;}
.dark-mode .sidebar a{color:#f8f9fa;}
.dark-mode .sidebar a.active{background:#0d6efd;color:#fff;}
.dark-mode .topbar{background:#343a40;border-color:#444;color:#f8f9fa;}
.dark-mode .chatbox{background:#343a40;border-color:#444;}
/* --- Visibility Fix --- */
#loginPage {z-index:2000;position:relative;background:#f8f9fa;}
#dashboardPage {position:relative;z-index:1;}
</style>
</head>
<body>
<!-- LOGIN PAGE -->
<div id="loginPage" class="d-flex align-items-center justify-content-center vh-100">
  <div class="card shadow p-4" style="max-width:380px;width:100%;">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5 class="fw-bold text-primary mb-0">BizCore360</h5>
      <button id="loginLangToggle" class="btn btn-sm btn-outline-secondary">ES</button>
    </div>
    <div class="mb-3">
      <label class="form-label">Username</label>
      <input type="text" id="loginUser" class="form-control" placeholder="bizcore360">
    </div>
    <div class="mb-3">
      <label class="form-label">Password</label>
      <input type="password" id="loginPass" class="form-control" placeholder="1234">
    </div>
    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" id="rememberMe">
      <label class="form-check-label" for="rememberMe">Remember me</label>
    </div>
    <div class="d-grid">
      <button id="loginBtn" class="btn btn-primary">Login</button>
    </div>
    <div id="loginError" class="text-danger mt-3" style="display:none;">Invalid credentials</div>
  </div>
</div>
<!-- DASHBOARD PAGE -->
<div id="dashboardPage" style="display:none;">
  <!-- TOPBAR -->
  <div class="topbar">
    <button id="sidebarToggle" class="bi bi-list"></button>
    <div class="brand">BizCore360</div>
    <div class="d-flex align-items-center gap-3">
      <i class="bi bi-search" data-bs-toggle="tooltip" title="Search"></i>
      <a href="#" data-section="aicoach" title="AI Coach"><i class="bi bi-chat-square-dots fs-5"></i></a>
      <a href="#" data-section="aiadvisory" title="AI Advisory Board"><i class="bi bi-people fs-5"></i></a>
      <select id="modelSelect" class="form-select form-select-sm" style="width:auto;">
        <option>GPT-4.0-mini</option>
        <option>GPT-5.0</option>
      </select>
      <div class="dropdown">
        <a href="#" class="text-decoration-none text-dark dropdown-toggle" data-bs-toggle="dropdown"><i class="bi bi-person-circle fs-5"></i></a>
        <ul class="dropdown-menu dropdown-menu-end">
          <li><a class="dropdown-item" href="#" id="langSelect">Language</a></li>
          <li><a class="dropdown-item" href="#" id="themeToggle">Toggle Theme</a></li>
          <li><a class="dropdown-item" href="#" data-section="profile">Profile</a></li>
          <li><a class="dropdown-item" href="#" data-section="settings">Settings</a></li>
          <li><a class="dropdown-item" href="#" data-section="apikeys"><i class="bi bi-key me-2"></i>API Settings</a></li>
          <li><a class="dropdown-item" href="#" data-section="specs"><i class="bi bi-question-circle me-2"></i>BizCore360 Specs</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item text-danger" href="#" id="logoutBtn">Logout</a></li>
        </ul>
      </div>
    </div>
  </div>



  <!-- SIDEBAR -->
  <div class="sidebar p-2" id="sidebar">
    <ul class="nav nav-tabs justify-content-between px-2 mb-3" id="sidebarTabs">
      <li class="nav-item w-50 text-center"><a href="#" id="tabModules" class="nav-link active">Modules</a></li>
      <li class="nav-item w-50 text-center"><a href="#" id="tabChats" class="nav-link">Chats</a></li>
    </ul>

    <!-- MODULES TAB -->
    <div id="modulesTab">
      <a href="#" class="active" data-section="dashboard">Dashboard</a>
      <a href="#" data-bs-toggle="collapse" data-bs-target="#profilesSub">Profiles</a>
      <div class="collapse ps-3 show" id="profilesSub">
        <a href="#" data-section="company">Company</a>
        <a href="#" data-section="customers">Customers</a>
        <a href="#" data-section="competitors">Competitors</a>
      </div>
      <a href="#" data-bs-toggle="collapse" data-bs-target="#financialsSub">Financials</a>
      <div class="collapse ps-3" id="financialsSub">
        <a href="#" data-section="budget">Budget</a>
        <a href="#" data-section="balancesheet">Balance Sheet</a>
        <a href="#" data-section="cashflow">Cash Flow</a>
        <a href="#" data-section="pl">P&amp;L</a>
        <a href="#" data-section="forecasts">Forecasts</a>
      </div>
      <a href="#" data-bs-toggle="collapse" data-bs-target="#planningSub">Planning</a>
      <div class="collapse ps-3" id="planningSub">
        <a href="#" data-section="businessplan">Business Plan</a>
        <a href="#" data-section="goals">Goals</a>
        <a href="#" data-section="ravingfans">Raving Fans</a>
        <a href="#" data-section="sops">SOPs</a>
        <a href="#" data-section="swot">SWOT</a>
        <a href="#" data-section="workflow">Workflow Builder</a>
      </div>
      <a href="#" data-bs-toggle="collapse" data-bs-target="#marketingSub">Marketing</a>
      <div class="collapse ps-3" id="marketingSub">
        <a href="#" data-section="marketingplan">Marketing Plan</a>
        <a href="#" data-section="contentcreator">Content Creator</a>
      </div>
      <a href="#" data-bs-toggle="collapse" data-bs-target="#resourcesSub">Resources</a>
      <div class="collapse ps-3" id="resourcesSub">
        <a href="#" data-section="sampleprompts">Sample Prompts</a>
        <a href="#" data-section="newblueprint">New Business Blueprint</a>
      </div>
    </div>

    <!-- CHATS TAB -->
    <div id="chatsTab" style="display:none;">
      <p class="fw-bold small text-secondary px-3 mt-2 mb-1">Quick Actions</p>
      <a href="#" data-section="newchat">New Chat</a>
      <a href="#" id="createFolderBtn">New Folder</a>

      <p class="fw-bold small text-secondary px-3 mt-3 mb-1">Folders</p>
      <div id="foldersList" class="ps-2">
        <a href="#" data-section="f1">F1 – Projects</a>
        <a href="#" data-section="f2">F2 – Clients</a>
        <a href="#" data-section="f3">F3 – Reports</a>
        <a href="#" data-section="allfolders">See More…</a>
      </div>

      <p class="fw-bold small text-secondary px-3 mt-3 mb-1">Chat History</p>
      <div id="chatsList" class="ps-2">
        <a href="#" data-section="c1">C1 – Marketing Plan</a>
        <a href="#" data-section="c2">C2 – Budget Review</a>
        <a href="#" data-section="c3">C3 – Client Feedback</a>
        <a href="#" data-section="allchats">See More…</a>
      </div>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="main" id="main">
    <div id="pageTitle" class="fw-semibold fs-5 mb-3">Dashboard</div>
    <div id="pageContent">
      <div class="card p-4 shadow-sm mb-4">
        <h5 class="mb-3">Welcome to Your BizCore360 Dashboard</h5>
        <p class="text-muted mb-0">This is your control center — monitor performance, track finances, and navigate key business modules.</p>
      </div>
      <div class="row g-3 mb-4">
        <div class="col-md-3 col-sm-6">
          <div class="card text-center p-3 shadow-sm">
            <h6 class="text-uppercase text-muted small mb-1">Revenue</h6>
            <h4 class="fw-bold">$124,500</h4>
            <span class="text-success small">▲ +8.4% this month</span>
          </div>
        </div>
        <div class="col-md-3 col-sm-6">
          <div class="card text-center p-3 shadow-sm">
            <h6 class="text-uppercase text-muted small mb-1">Expenses</h6>
            <h4 class="fw-bold">$92,300</h4>
            <span class="text-danger small">▼ -3.1% this month</span>
          </div>
        </div>
        <div class="col-md-3 col-sm-6">
          <div class="card text-center p-3 shadow-sm">
            <h6 class="text-uppercase text-muted small mb-1">Active Projects</h6>
            <h4 class="fw-bold">24</h4>
            <span class="text-primary small">+2 new this week</span>
          </div>
        </div>
        <div class="col-md-3 col-sm-6">
          <div class="card text-center p-3 shadow-sm">
            <h6 class="text-uppercase text-muted small mb-1">Customer Rating</h6>
            <h4 class="fw-bold">4.8/5</h4>
            <span class="text-success small">98% satisfaction</span>
          </div>
        </div>
      </div>
      <div class="row g-3">
        <div class="col-md-4">
          <div class="card text-center p-4 shadow-sm">
            <h6 class="fw-bold">Profiles</h6>
            <p class="text-muted">Manage your company, customers, and competitors.</p>
            <button class="btn btn-outline-primary btn-sm" data-section="profiles">Open</button>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card text-center p-4 shadow-sm">
            <h6 class="fw-bold">Financials</h6>
            <p class="text-muted">Monitor budgets, cash flow, and profitability.</p>
            <button class="btn btn-outline-primary btn-sm" data-section="financials">Open</button>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card text-center p-4 shadow-sm">
            <h6 class="fw-bold">Planning</h6>
            <p class="text-muted">Set goals, design workflows, and execute projects.</p>
            <button class="btn btn-outline-primary btn-sm" data-section="planning">Open</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- CHAT BOX -->
  <div class="chatbox d-flex" id="chatBox">
    <button class="btn btn-light border rounded-circle"><i class="bi bi-plus-lg"></i></button>
    <input type="text" id="chatInput" placeholder="Type a message …">
    <button class="btn btn-primary rounded-circle" id="chatSend"><i class="bi bi-send-fill"></i></button>
  </div>

  <!-- OVERLAY -->
  <div class="overlay" id="overlay"></div>
</div>


<!-- BOOTSTRAP + SCRIPT -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
const $ = s=>document.querySelector(s);
const $$ = s=>document.querySelectorAll(s);
const save=(k,v)=>localStorage.setItem(k,JSON.stringify(v));
const load=k=>JSON.parse(localStorage.getItem(k));
const toast=m=>alert(m);

/* --- LOGIN --- */
const loginPage=$('#loginPage'),dashPage=$('#dashboardPage');
const loginBtn=$('#loginBtn'),loginUser=$('#loginUser'),loginPass=$('#loginPass'),loginErr=$('#loginError');

function showDashboard(){
  loginPage.style.display='none';
  dashPage.style.display='block';
  document.body.style.overflow='auto';
}
function showLogin(){
  dashPage.style.display='none';
  loginPage.style.display='flex';
  document.body.style.overflow='hidden';
}
if(load('logged')) showDashboard();
loginBtn.onclick=()=>{
  const u=loginUser.value.trim(),p=loginPass.value.trim();
  if(u==='bizcore360'&&p==='1234'){save('logged',true);showDashboard();}
  else loginErr.style.display='block';
};

/* --- SIDEBAR TOGGLE --- */
const sidebar=$('#sidebar'),overlay=$('#overlay');
$('#sidebarToggle').onclick=()=>{sidebar.classList.toggle('show');overlay.style.display=sidebar.classList.contains('show')?'block':'none';};
overlay.onclick=()=>{sidebar.classList.remove('show');overlay.style.display='none';};

/* --- TABS --- */
$('#tabModules').onclick=e=>{e.preventDefault();$('#modulesTab').style.display='block';$('#chatsTab').style.display='none';e.target.classList.add('active');$('#tabChats').classList.remove('active');};
$('#tabChats').onclick=e=>{e.preventDefault();$('#modulesTab').style.display='none';$('#chatsTab').style.display='block';e.target.classList.add('active');$('#tabModules').classList.remove('active');};

/* --- NAVIGATION --- */
$$('.sidebar a[data-section]').forEach(a=>{
 a.onclick=e=>{
  e.preventDefault();$$('.sidebar a').forEach(x=>x.classList.remove('active'));a.classList.add('active');
  const s=a.dataset.section;loadSection(s);
  if(innerWidth<992){sidebar.classList.remove('show');overlay.style.display='none';}
 };
});

/* --- LOAD SECTION --- */
const title=$('#pageTitle'),content=$('#pageContent');
function loadSection(id){
 title.textContent=id.replace(/^[a-z]/,m=>m.toUpperCase());
 switch(id){
  case'dashboard':content.innerHTML=`<div class='alert alert-primary'>Dashboard reloaded ✅</div>`;break;
  case'aicoach':content.innerHTML=`<div class='card p-4'><h5>AI Coach</h5><p>Placeholder for AI Coach integration.</p></div>`;break;
  case'aiadvisory':content.innerHTML=`<div class='card p-4'><h5>AI Advisory Board</h5><p>Placeholder for Advisory Board.</p></div>`;break;
  case'newchat':content.innerHTML=`<div class='card p-4'><h5>New Chat</h5><div id='chatBody' class='mb-3'></div></div>`;break;
  case'allfolders':content.innerHTML=`<div class='card p-4'><h5>All Folders</h5><ul id='allFoldersList'></ul></div>`;renderAllFolders();break;
  case'allchats':content.innerHTML=`<div class='card p-4'><h5>All Chats</h5><ul id='allChatsList'></ul></div>`;renderAllChats();break;
  case'apikeys':content.innerHTML=apiSettingsHTML();initApiSettings();break;
  case'specs':content.innerHTML=specsHTML;break;
  default:content.innerHTML=`<div class='card p-4'><h5>${id}</h5><p>Placeholder page.</p></div>`;
 }
}

/* --- CHAT BOX --- */
$('#chatSend').onclick=()=>{
 const val=$('#chatInput').value.trim();
 if(!val)return;
 const msg=document.createElement('div');
 msg.textContent=val;msg.className='p-2 my-1 bg-light rounded';
 $('#chatBody')?.append(msg);
 $('#chatInput').value='';
};

/* --- NEW FOLDER --- */
const folderList=$('#foldersList');
$('#createFolderBtn').onclick=e=>{
 e.preventDefault();
 let folders=load('chat_folders')||['F1 – Projects','F2 – Clients','F3 – Reports'];
 const nf=`F${folders.length+1} – New Folder`;
 folders.unshift(nf);save('chat_folders',folders);
 renderFolders();
};
function renderFolders(){
 const f=load('chat_folders')||['F1 – Projects','F2 – Clients','F3 – Reports'];
 folderList.innerHTML=f.map(x=>`<a href='#' data-section='${x.toLowerCase().replace(/\s/g,'')}'>${x}</a>`).join('')+
 `<a href='#' data-section='allfolders'>See More…</a>`;
}
function renderAllFolders(){
 const f=load('chat_folders')||[];
 $('#allFoldersList').innerHTML=f.map(x=>`<li>${x}</li>`).join('');
}
function renderAllChats(){
 const ch=["Marketing Plan","Budget Review","Client Feedback","New Product Brainstorm","Team Meeting Summary"];
 $('#allChatsList').innerHTML=ch.map((c,i)=>`<li>Chat ${i+1} – ${c}</li>`).join('');
}

/* --- DARK MODE --- */
const themeT=$('#themeToggle');
if(load('theme')==='dark'){document.body.classList.add('dark-mode');}
themeT.onclick=()=>{document.body.classList.toggle('dark-mode');save('theme',document.body.classList.contains('dark-mode')?'dark':'light');};

/* --- LANGUAGE --- */
let lang=load('lang')||'en';
$('#langSelect').onclick=()=>{lang=lang==='en'?'es':'en';save('lang',lang);toast(`Language: ${lang.toUpperCase()}`);};

/* --- API SETTINGS --- */
function apiSettingsHTML(){
 return `<div class='card p-4'>
  <h5>API Settings</h5>
  <div class='mb-3'><label class='form-label'>OpenAI API Key</label><input id='apiKey' type='password' class='form-control'></div>
  <div class='mb-3'><label class='form-label'>Store ID</label><input id='storeId' type='text' class='form-control'></div>
  <button id='saveApi' class='btn btn-primary'>Save</button>
  <div id='apiMsg' class='mt-3 text-success' style='display:none;'>Saved successfully ✅</div>
 </div>`;
}
function initApiSettings(){
 $('#apiKey').value=load('openai_api_key')||'';
 $('#storeId').value=load('openai_store_id')||'';
 $('#saveApi').onclick=()=>{
   save('openai_api_key',$('#apiKey').value);
   save('openai_store_id',$('#storeId').value);
   $('#apiMsg').style.display='block';
 };
}

/* --- SPECS PAGE --- */
const specsHTML=`<div class='card p-4'>
<h5>BizCore360 v5.4 Specs Summary</h5>
<ul>
<li>Bootstrap 5.3 Framework + Icons + Inter Font</li>
<li>Login (ID: bizcore360 / PW: 1234)</li>
<li>Sidebar Modules &amp; Chats with Active Blue Style</li>
<li>Dark Mode, Language, AI Model Persistence</li>
<li>API Settings &amp; Specs Menu under Avatar</li>
<li>Chat Folders, All Folders, All Chats Lists</li>
<li>AI Coach &amp; Advisory Board Links on Topbar</li>
</ul>
<p class='small text-muted mb-0'>Version 5.4 — October 2025 | BizCore360 Development Team</p>
</div>`;

/* --- LOGOUT --- */
$('#logoutBtn').onclick=()=>{localStorage.removeItem('logged');showLogin();};
</script>
</body></html>
